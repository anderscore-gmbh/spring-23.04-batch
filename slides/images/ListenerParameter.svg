<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="856px" preserveAspectRatio="none" style="width:2210px;height:856px;" version="1.1" viewBox="0 0 2210 856" width="2210px" zoomAndPan="magnify"><defs><filter height="300%" id="f18iu61q297yzf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[2d36a0997a4d99e5643e4034feeadd84]
class AttributeAccessor--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="224.0469" id="AttributeAccessor" style="stroke: #225C4D; stroke-width: 3.0;" width="470" x="140" y="16"/><ellipse cx="259.5" cy="48" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M251.3438,39.5313 L251.3438,35.2188 L266.125,35.2188 L266.125,39.5313 L261.1875,39.5313 L261.1875,55.6875 L266.125,55.6875 L266.125,60 L251.3438,60 L251.3438,55.6875 L256.2813,55.6875 L256.2813,39.5313 L251.3438,39.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="214" x="300.5" y="56.3086">AttributeAccessor</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="142" x2="608" y1="80" y2="80"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="142" x2="608" y1="96" y2="96"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="290" x="152" y="124.4209">attributeNames(): String[]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="404" x="152" y="150.0303">hasAttribute(name: String): boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="380" x="152" y="175.6396">getAttribute(name: String): Object</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="446" x="152" y="201.249">setAttribute(name: String, Object value)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="430" x="152" y="226.8584">removeAttribute(name: String): Object</text><!--MD5=[be996cdb8e6bf2fc7cb89c555f2cd144]
class Entity--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="121.6094" id="Entity" style="stroke: #225C4D; stroke-width: 3.0;" width="134" x="1638" y="67"/><ellipse cx="1668" cy="99" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1673.9375,110.2813 Q1672.7813,110.875 1671.5,111.1563 Q1670.2188,111.4688 1668.8125,111.4688 Q1663.8125,111.4688 1661.1563,108.1875 Q1658.5313,104.875 1658.5313,98.625 Q1658.5313,92.375 1661.1563,89.0625 Q1663.8125,85.75 1668.8125,85.75 Q1670.2188,85.75 1671.5,86.0625 Q1672.8125,86.375 1673.9375,86.9688 L1673.9375,92.4063 Q1672.6875,91.25 1671.5,90.7188 Q1670.3125,90.1563 1669.0625,90.1563 Q1666.375,90.1563 1665,92.3125 Q1663.625,94.4375 1663.625,98.625 Q1663.625,102.8125 1665,104.9688 Q1666.375,107.0938 1669.0625,107.0938 Q1670.3125,107.0938 1671.5,106.5625 Q1672.6875,106 1673.9375,104.8438 L1673.9375,110.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="70" x="1696" y="107.3086">Entity</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1640" x2="1770" y1="131" y2="131"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="88" x="1650" y="159.4209">id: Long</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1640" x2="1770" y1="172.6094" y2="172.6094"/><!--MD5=[b8f9c9f402fdb0639661b25476f0741f]
class ExecutionContext--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="121.6094" id="ExecutionContext" style="stroke: #225C4D; stroke-width: 3.0;" width="324" x="1211" y="714"/><ellipse cx="1259.9" cy="746" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1265.8375,757.2813 Q1264.6813,757.875 1263.4,758.1563 Q1262.1188,758.4688 1260.7125,758.4688 Q1255.7125,758.4688 1253.0563,755.1875 Q1250.4313,751.875 1250.4313,745.625 Q1250.4313,739.375 1253.0563,736.0625 Q1255.7125,732.75 1260.7125,732.75 Q1262.1188,732.75 1263.4,733.0625 Q1264.7125,733.375 1265.8375,733.9688 L1265.8375,739.4063 Q1264.5875,738.25 1263.4,737.7188 Q1262.2125,737.1563 1260.9625,737.1563 Q1258.275,737.1563 1256.9,739.3125 Q1255.525,741.4375 1255.525,745.625 Q1255.525,749.8125 1256.9,751.9688 Q1258.275,754.0938 1260.9625,754.0938 Q1262.2125,754.0938 1263.4,753.5625 Q1264.5875,753 1265.8375,751.8438 L1265.8375,757.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="218" x="1292.1" y="754.3086">ExecutionContext</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1213" x2="1533" y1="778" y2="778"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="300" x="1223" y="806.4209">map: Map&lt;String, Object&gt;</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1213" x2="1533" y1="819.6094" y2="819.6094"/><path d="M326,735 L326,815.5313 A0,0 0 0 0 326,815.5313 L1140,815.5313 A0,0 0 0 0 1140,815.5313 L1140,783 L1210.44,775 L1140,767 L1140,755 L1120,735 L326,735 A0,0 0 0 0 326,735 " fill="#FBFB77" filter="url(#f18iu61q297yzf)" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1120,735 L1120,755 L1140,755 L1120,735 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="772" x="338" y="769.1338">Kann zur Datenübergabe zwischen Steps verwendet werden.</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="492" x="338" y="799.3994">Größe und Serialisierbarkeit beachten!</text><!--MD5=[0cce4df4313332520a583b9da0bd5d6d]
class JobParameters--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="121.6094" id="JobParameters" style="stroke: #225C4D; stroke-width: 3.0;" width="484" x="1705" y="714"/><ellipse cx="1846.5" cy="746" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1852.4375,757.2813 Q1851.2813,757.875 1850,758.1563 Q1848.7188,758.4688 1847.3125,758.4688 Q1842.3125,758.4688 1839.6563,755.1875 Q1837.0313,751.875 1837.0313,745.625 Q1837.0313,739.375 1839.6563,736.0625 Q1842.3125,732.75 1847.3125,732.75 Q1848.7188,732.75 1850,733.0625 Q1851.3125,733.375 1852.4375,733.9688 L1852.4375,739.4063 Q1851.1875,738.25 1850,737.7188 Q1848.8125,737.1563 1847.5625,737.1563 Q1844.875,737.1563 1843.5,739.3125 Q1842.125,741.4375 1842.125,745.625 Q1842.125,749.8125 1843.5,751.9688 Q1844.875,754.0938 1847.5625,754.0938 Q1848.8125,754.0938 1850,753.5625 Q1851.1875,753 1852.4375,751.8438 L1852.4375,757.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="184" x="1887.5" y="754.3086">JobParameters</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1707" x2="2187" y1="778" y2="778"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="460" x="1717" y="806.4209">parameters: Map&lt;String,JobParameter&gt;</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1707" x2="2187" y1="819.6094" y2="819.6094"/><!--MD5=[9b264a68f299ae67167a82a96804a489]
class JobInstance--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="121.6094" id="JobInstance" style="stroke: #225C4D; stroke-width: 3.0;" width="210" x="1842" y="67"/><ellipse cx="1872" cy="99" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1877.9375,110.2813 Q1876.7813,110.875 1875.5,111.1563 Q1874.2188,111.4688 1872.8125,111.4688 Q1867.8125,111.4688 1865.1563,108.1875 Q1862.5313,104.875 1862.5313,98.625 Q1862.5313,92.375 1865.1563,89.0625 Q1867.8125,85.75 1872.8125,85.75 Q1874.2188,85.75 1875.5,86.0625 Q1876.8125,86.375 1877.9375,86.9688 L1877.9375,92.4063 Q1876.6875,91.25 1875.5,90.7188 Q1874.3125,90.1563 1873.0625,90.1563 Q1870.375,90.1563 1869,92.3125 Q1867.625,94.4375 1867.625,98.625 Q1867.625,102.8125 1869,104.9688 Q1870.375,107.0938 1873.0625,107.0938 Q1874.3125,107.0938 1875.5,106.5625 Q1876.6875,106 1877.9375,104.8438 L1877.9375,110.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="146" x="1900" y="107.3086">JobInstance</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1844" x2="2050" y1="131" y2="131"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="182" x="1854" y="159.4209">jobName: String</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1844" x2="2050" y1="172.6094" y2="172.6094"/><!--MD5=[0879cea99455fa54acdb12ba24138b76]
class JobExecution--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="249.6563" id="JobExecution" style="stroke: #225C4D; stroke-width: 3.0;" width="426" x="1734" y="352"/><ellipse cx="1858.5" cy="384" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1864.4375,395.2813 Q1863.2813,395.875 1862,396.1563 Q1860.7188,396.4688 1859.3125,396.4688 Q1854.3125,396.4688 1851.6563,393.1875 Q1849.0313,389.875 1849.0313,383.625 Q1849.0313,377.375 1851.6563,374.0625 Q1854.3125,370.75 1859.3125,370.75 Q1860.7188,370.75 1862,371.0625 Q1863.3125,371.375 1864.4375,371.9688 L1864.4375,377.4063 Q1863.1875,376.25 1862,375.7188 Q1860.8125,375.1563 1859.5625,375.1563 Q1856.875,375.1563 1855.5,377.3125 Q1854.125,379.4375 1854.125,383.625 Q1854.125,387.8125 1855.5,389.9688 Q1856.875,392.0938 1859.5625,392.0938 Q1860.8125,392.0938 1862,391.5625 Q1863.1875,391 1864.4375,389.8438 L1864.4375,395.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="160" x="1899.5" y="392.3086">JobExecution</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1736" x2="2158" y1="416" y2="416"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="334" x="1746" y="444.4209">jobConfigurationName: String</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="224" x="1746" y="470.0303">status: BatchStatus</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="242" x="1746" y="495.6396">exitStatus: ExitStatus</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="402" x="1746" y="521.249">failureExceptions: List&lt;Throwable&gt;</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="176" x="1746" y="546.8584">startTime: Date</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="164" x="1746" y="572.4678">endTime: Date</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1736" x2="2158" y1="585.6563" y2="585.6563"/><!--MD5=[9c9ec500049159b97cab276b888cef43]
class StepExecution--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="326.4844" id="StepExecution" style="stroke: #225C4D; stroke-width: 3.0;" width="426" x="1040" y="314"/><ellipse cx="1154.5" cy="346" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1160.4375,357.2813 Q1159.2813,357.875 1158,358.1563 Q1156.7188,358.4688 1155.3125,358.4688 Q1150.3125,358.4688 1147.6563,355.1875 Q1145.0313,351.875 1145.0313,345.625 Q1145.0313,339.375 1147.6563,336.0625 Q1150.3125,332.75 1155.3125,332.75 Q1156.7188,332.75 1158,333.0625 Q1159.3125,333.375 1160.4375,333.9688 L1160.4375,339.4063 Q1159.1875,338.25 1158,337.7188 Q1156.8125,337.1563 1155.5625,337.1563 Q1152.875,337.1563 1151.5,339.3125 Q1150.125,341.4375 1150.125,345.625 Q1150.125,349.8125 1151.5,351.9688 Q1152.875,354.0938 1155.5625,354.0938 Q1156.8125,354.0938 1158,353.5625 Q1159.1875,353 1160.4375,351.8438 L1160.4375,357.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="180" x="1195.5" y="354.3086">StepExecution</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1042" x2="1464" y1="378" y2="378"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="198" x="1052" y="406.4209">stepName: String</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="224" x="1052" y="432.0303">status: BatchStatus</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="242" x="1052" y="457.6396">exitStatus: ExitStatus</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="402" x="1052" y="483.249">failureExceptions: List&lt;Throwable&gt;</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="160" x="1052" y="508.8584">readCount: int</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="164" x="1052" y="534.4678">writeCount: int</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="1052" y="560.0771">commitCount: int</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="176" x="1052" y="585.6865">startTime: Date</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="164" x="1052" y="611.2959">endTime: Date</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1042" x2="1464" y1="624.4844" y2="624.4844"/><path d="M1014,73 L1014,183.7969 A0,0 0 0 0 1014,183.7969 L1245,183.7969 L1253,313.48 L1261,183.7969 L1492,183.7969 A0,0 0 0 0 1492,183.7969 L1492,93 L1472,73 L1014,73 A0,0 0 0 0 1014,73 " fill="#FBFB77" filter="url(#f18iu61q297yzf)" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1472,73 L1472,93 L1492,93 L1472,73 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="436" x="1026" y="107.1338">Wird nach jedem Chunk persistiert</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="386" x="1026" y="137.3994">(zusammen mit dem als JSON</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="404" x="1026" y="167.665">serialisierten ExecutionContext)</text><!--MD5=[cdf77322ccb365f13ade7e99410f4db4]
class StepContext--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="96" id="StepContext" style="stroke: #225C4D; stroke-width: 3.0;" width="218" x="568" y="429"/><ellipse cx="598" cy="461" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M603.9375,472.2813 Q602.7813,472.875 601.5,473.1563 Q600.2188,473.4688 598.8125,473.4688 Q593.8125,473.4688 591.1563,470.1875 Q588.5313,466.875 588.5313,460.625 Q588.5313,454.375 591.1563,451.0625 Q593.8125,447.75 598.8125,447.75 Q600.2188,447.75 601.5,448.0625 Q602.8125,448.375 603.9375,448.9688 L603.9375,454.4063 Q602.6875,453.25 601.5,452.7188 Q600.3125,452.1563 599.0625,452.1563 Q596.375,452.1563 595,454.3125 Q593.625,456.4375 593.625,460.625 Q593.625,464.8125 595,466.9688 Q596.375,469.0938 599.0625,469.0938 Q600.3125,469.0938 601.5,468.5625 Q602.6875,468 603.9375,466.8438 L603.9375,472.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="154" x="626" y="469.3086">StepContext</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="570" x2="784" y1="493" y2="493"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="570" x2="784" y1="509" y2="509"/><!--MD5=[3cb5334b6987cb61f6387685b6232706]
class ChunkContext--><rect fill="#DDEEE8" filter="url(#f18iu61q297yzf)" height="121.6094" id="ChunkContext" style="stroke: #225C4D; stroke-width: 3.0;" width="326" x="12" y="416"/><ellipse cx="81.6" cy="448" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M87.5375,459.2813 Q86.3813,459.875 85.1,460.1563 Q83.8188,460.4688 82.4125,460.4688 Q77.4125,460.4688 74.7563,457.1875 Q72.1313,453.875 72.1313,447.625 Q72.1313,441.375 74.7563,438.0625 Q77.4125,434.75 82.4125,434.75 Q83.8188,434.75 85.1,435.0625 Q86.4125,435.375 87.5375,435.9688 L87.5375,441.4063 Q86.2875,440.25 85.1,439.7188 Q83.9125,439.1563 82.6625,439.1563 Q79.975,439.1563 78.6,441.3125 Q77.225,443.4375 77.225,447.625 Q77.225,451.8125 78.6,453.9688 Q79.975,456.0938 82.6625,456.0938 Q83.9125,456.0938 85.1,455.5625 Q86.2875,455 87.5375,453.8438 L87.5375,459.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="174" x="118.4" y="456.3086">ChunkContext</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="14" x2="336" y1="480" y2="480"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="302" x="24" y="508.4209">complete: boolean = false;</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="14" x2="336" y1="521.6094" y2="521.6094"/><!--MD5=[0008124bceac9d8ed3e2f1e2ee83e66a]
reverse link Entity to JobInstance--><path d="M1812.4,128 C1822.2,128 1832,128 1841.8,128 " fill="none" id="Entity&lt;-JobInstance" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1812.12,142,1772.12,128,1812.12,114,1812.12,142" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[5cd6667d86abea6414b3ee92a8d01cd1]
reverse link Entity to JobExecution--><path d="M1769.98,222.64 C1797.76,262.24 1830.58,309.04 1860.38,351.52 " fill="none" id="Entity&lt;-JobExecution" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1758.12,230.1,1746.6,189.3,1781.04,214.02,1758.12,230.1" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[988804ae2bf7b37246f8d397d44abdfa]
reverse link JobInstance to JobExecution--><path d="M1947,199.5 C1947,243.04 1947,300.4 1947,351.52 " fill="none" id="JobInstance&lt;-JobExecution" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1947,189.3,1939,207.3,1947,199.3,1955,207.3,1947,189.3" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="146" x="1949" y="286.1338">jobInstance</text><!--MD5=[50fa65b929ee2b1af54a4af1d8fcbcc6]
link JobExecution to ExecutionContext--><path d="M1733.6,594.44 C1671.78,627.22 1603.96,662.54 1541,694 C1531.06,698.96 1520.76,704.02 1510.38,709.06 " fill="none" id="JobExecution-&gt;ExecutionContext" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1500.8,713.68,1520.488,713.0624,1509.8063,709.3341,1513.5346,698.6524,1500.8,713.68" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="224" x="1609" y="686.1338">executionContext</text><!--MD5=[50eeec5c180adde080bfb12649fea761]
link JobExecution to JobParameters--><path d="M1947,602.84 C1947,636.94 1947,672.74 1947,702.66 " fill="none" id="JobExecution-&gt;JobParameters" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1947,713.42,1955,695.42,1947,703.42,1939,695.42,1947,713.42" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="188" x="1949" y="686.1338">jobParameters</text><!--MD5=[d1efb800fdc3e39a4fab981f7bd96359]
reverse link Entity to StepExecution--><path d="M1605.22,206.16 C1563.56,237.96 1513.46,276.2 1464.3,313.72 " fill="none" id="Entity&lt;-StepExecution" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1597.04,194.8,1637.34,181.64,1614.02,217.04,1597.04,194.8" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[435261e7202a320211fe2071d41fa49b]
link StepExecution to JobExecution--><path d="M1466.66,512.16 C1483.66,514.1 1500.58,515.76 1517,517 C1590.56,522.54 1609.44,522.54 1683,517 C1696.08,516.02 1709.48,514.76 1723,513.3 " fill="none" id="StepExecution-&gt;JobExecution" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1733.34,512.16,1714.561,506.2145,1723.4022,513.2737,1716.343,522.1149,1733.34,512.16" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="162" x="1519" y="509.1338">jobExecution</text><!--MD5=[bab1031baf967ce219a98f58c1fe8c5c]
reverse link StepExecution to JobExecution--><path d="M1477.38,477 C1559.68,477 1652.54,477 1733.82,477 " fill="none" id="StepExecution&lt;-JobExecution" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1466.88,477,1484.88,485,1476.88,477,1484.88,469,1466.88,477" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="194" x="1503" y="463.1338">stepExecutions</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="22" x="1481.9891" y="470.1186">+</text><!--MD5=[33f982fb3367924935a49c48a3b88e09]
link StepExecution to ExecutionContext--><path d="M1283.16,640.54 C1289.2,659.04 1296.42,677.26 1305,694 C1306.96,697.8 1309.12,701.58 1311.46,705.3 " fill="none" id="StepExecution-&gt;ExecutionContext" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1317.16,713.86,1313.8318,694.4455,1311.613,705.5395,1300.519,703.3207,1317.16,713.86" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="224" x="1307" y="686.1338">executionContext</text><!--MD5=[89ab6abef08fb8350a75dd100181c949]
reverse link AttributeAccessor to StepContext--><path d="M498.14,270.68 C547.3,326.82 600.54,387.66 636.04,428.2 " fill="none" id="AttributeAccessor&lt;-StepContext" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="487.2,279.42,471.38,240.1,508.26,260.98,487.2,279.42" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[c3e493dbecff57e751856e879ce9daa6]
link StepContext to StepExecution--><path d="M786.02,477 C854.66,477 945.76,477 1029.28,477 " fill="none" id="StepContext-&gt;StepExecution" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1039.42,477,1021.42,469,1029.42,477,1021.42,485,1039.42,477" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="180" x="823" y="463.1338">stepExecution</text><!--MD5=[05c33c1e15cde23f5608b4c5d14e8663]
reverse link AttributeAccessor to ChunkContext--><path d="M290.9,275.08 C262.42,324.18 232.2,376.32 209.76,415.04 " fill="none" id="AttributeAccessor&lt;-ChunkContext" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="279,267.7,311.16,240.1,303.22,281.74,279,267.7" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[b2e0b5ff5636725d34b729fc0b5a9fab]
link ChunkContext to StepContext--><path d="M338.68,477 C409.84,477 491.68,477 557.06,477 " fill="none" id="ChunkContext-&gt;StepContext" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="567.4,477,549.4,469,557.4,477,549.4,485,567.4,477" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="156" x="375" y="463.1338">stepContext</text><!--MD5=[84346083d96133e36b747d5c147aac7c]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }
scale 2
skinparam ranksep 20

interface AttributeAccessor {
    attributeNames(): String[]
    hasAttribute(name: String): boolean
    getAttribute(name: String): Object
    setAttribute(name: String, Object value)
    removeAttribute(name: String): Object
}

class Entity {
    id: Long
}

class ExecutionContext {
    map: Map<String, Object>
}
note left
    Kann zur Datenübergabe zwischen Steps verwendet werden.
    Größe und Serialisierbarkeit beachten!
end note

class JobParameters {
    parameters: Map<String,JobParameter>
}

class JobInstance {
    jobName: String
}

Entity <|. JobInstance

class JobExecution {
    jobConfigurationName: String
    status: BatchStatus
    exitStatus: ExitStatus
    failureExceptions: List<Throwable>
    startTime: Date
    endTime: Date
}

Entity <|.. JobExecution
JobInstance <- - JobExecution: jobInstance
JobExecution - -> ExecutionContext: executionContext
JobExecution - -> JobParameters: jobParameters

class StepExecution {
    stepName: String
    status: BatchStatus
    exitStatus: ExitStatus
    failureExceptions: List<Throwable>
    readCount: int
    writeCount: int
    commitCount: int
    startTime: Date
    endTime: Date
}

note top
    Wird nach jedem Chunk persistiert
    (zusammen mit dem als JSON
    serialisierten ExecutionContext)
end note

Entity <|.. StepExecution
StepExecution -> JobExecution: jobExecution
StepExecution "+" <- JobExecution: stepExecutions
StepExecution - -> ExecutionContext: executionContext

class StepContext

AttributeAccessor <|.. StepContext
StepContext -> StepExecution : stepExecution

class ChunkContext {
    complete: boolean = false;
}

AttributeAccessor <|.. ChunkContext
ChunkContext -> StepContext: stepContext
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.6+10-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: DK
--></g></svg>