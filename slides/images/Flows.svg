<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="778.3333px" preserveAspectRatio="none" style="width:2478px;height:778px;" version="1.1" viewBox="0 0 2478 778" width="2478.3333px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ls5bs6p8w9vn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.3333333333333335"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="6.666666666666667" dy="6.666666666666667" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b8e0354e0f3f5cbf52553869b78c0afa]
class Job--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="101.3411" id="Job" style="stroke: #225C4D; stroke-width: 2.5;" width="326.6667" x="2134.1667" y="66.6667"/><ellipse cx="2274.5833" cy="93.3333" fill="#B4A7E5" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M2267.7865,86.276 L2267.7865,82.6823 L2280.1042,82.6823 L2280.1042,86.276 L2275.9896,86.276 L2275.9896,99.7396 L2280.1042,99.7396 L2280.1042,103.3333 L2267.7865,103.3333 L2267.7865,99.7396 L2271.901,99.7396 L2271.901,86.276 L2267.7865,86.276 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="31.6667" x="2308.75" y="100.2572">Job</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="2135.8333" x2="2459.1667" y1="120" y2="120"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="2135.8333" x2="2459.1667" y1="133.3333" y2="133.3333"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="306.6667" x="2144.1667" y="157.0174">execute(execution: JobExecution)</text><!--MD5=[5a2ba6e4c7f78036fecb159f353da9e9]
class Step--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="101.3411" id="Step" style="stroke: #225C4D; stroke-width: 2.5;" width="383.3333" x="1910.8333" y="637.5"/><ellipse cx="2072.0833" cy="664.1667" fill="#B4A7E5" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M2065.2865,657.1094 L2065.2865,653.5156 L2077.6042,653.5156 L2077.6042,657.1094 L2073.4896,657.1094 L2073.4896,670.5729 L2077.6042,670.5729 L2077.6042,674.1667 L2065.2865,674.1667 L2065.2865,670.5729 L2069.401,670.5729 L2069.401,657.1094 L2065.2865,657.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46.6667" x="2106.25" y="671.0905">Step</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1912.5" x2="2292.5" y1="690.8333" y2="690.8333"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1912.5" x2="2292.5" y1="704.1667" y2="704.1667"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="363.3333" x="1920.8333" y="727.8507">execute(stepExecution: StepExecution)</text><!--MD5=[49843e001dfdeb79de7734326ddc8639]
class Flow--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="186.7057" id="Flow" style="stroke: #225C4D; stroke-width: 2.5;" width="741.6667" x="1325" y="24.1667"/><ellipse cx="1666.25" cy="50.8333" fill="#B4A7E5" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M1659.4531,43.776 L1659.4531,40.1823 L1671.7708,40.1823 L1671.7708,43.776 L1667.6563,43.776 L1667.6563,57.2396 L1671.7708,57.2396 L1671.7708,60.8333 L1659.4531,60.8333 L1659.4531,57.2396 L1663.5677,57.2396 L1663.5677,43.776 L1659.4531,43.776 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1700.4167" y="57.7572">Flow</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1326.6667" x2="2065" y1="77.5" y2="77.5"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1326.6667" x2="2065" y1="90.8333" y2="90.8333"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="166.6667" x="1335" y="114.5174">getName(): String</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="413.3333" x="1335" y="135.8586">start(executor: FlowExecutor):FlowExecution</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="721.6667" x="1335" y="157.1997">resume(stateName: java.lang.String, executor: FlowExecutor): FlowExecution</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="418.3333" x="1335" y="178.5409">getState(stateName: java.lang.String): State</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="288.3333" x="1335" y="199.882">getStates(): Collection&lt;State&gt;</text><!--MD5=[119edbe4f44134eeae29c4f831826bd9]
class SimpleJob--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="SimpleJob" style="stroke: #225C4D; stroke-width: 2.5;" width="153.3333" x="2220.8333" y="392.5"/><ellipse cx="2245.8333" cy="419.1667" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M2250.7813,428.5677 Q2249.8177,429.0625 2248.75,429.2969 Q2247.6823,429.5573 2246.5104,429.5573 Q2242.3438,429.5573 2240.1302,426.8229 Q2237.9427,424.0625 2237.9427,418.8542 Q2237.9427,413.6458 2240.1302,410.8854 Q2242.3438,408.125 2246.5104,408.125 Q2247.6823,408.125 2248.75,408.3854 Q2249.8438,408.6458 2250.7813,409.1406 L2250.7813,413.6719 Q2249.7396,412.7083 2248.75,412.2656 Q2247.7604,411.7969 2246.7188,411.7969 Q2244.4792,411.7969 2243.3333,413.5938 Q2242.1875,415.3646 2242.1875,418.8542 Q2242.1875,422.3438 2243.3333,424.1406 Q2244.4792,425.9115 2246.7188,425.9115 Q2247.7604,425.9115 2248.75,425.4688 Q2249.7396,425 2250.7813,424.0365 L2250.7813,428.5677 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="100" x="2269.1667" y="426.0905">SimpleJob</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="2222.5" x2="2372.5" y1="445.8333" y2="445.8333"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="2222.5" x2="2372.5" y1="459.1667" y2="459.1667"/><!--MD5=[0189ad38e883c3052536aa4a64860989]
class FlowJob--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="101.3411" id="FlowJob" style="stroke: #225C4D; stroke-width: 2.5;" width="291.6667" x="1861.6667" y="381.6667"/><ellipse cx="1962.0833" cy="408.3333" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M1967.0313,417.7344 Q1966.0677,418.2292 1965,418.4635 Q1963.9323,418.724 1962.7604,418.724 Q1958.5938,418.724 1956.3802,415.9896 Q1954.1927,413.2292 1954.1927,408.0208 Q1954.1927,402.8125 1956.3802,400.0521 Q1958.5938,397.2917 1962.7604,397.2917 Q1963.9323,397.2917 1965,397.5521 Q1966.0938,397.8125 1967.0313,398.3073 L1967.0313,402.8385 Q1965.9896,401.875 1965,401.4323 Q1964.0104,400.9635 1962.9688,400.9635 Q1960.7292,400.9635 1959.5833,402.7604 Q1958.4375,404.5313 1958.4375,408.0208 Q1958.4375,411.5104 1959.5833,413.3073 Q1960.7292,415.0781 1962.9688,415.0781 Q1964.0104,415.0781 1965,414.6354 Q1965.9896,414.1667 1967.0313,413.2031 L1967.0313,417.7344 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="76.6667" x="1996.25" y="415.2572">FlowJob</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1863.3333" x2="2151.6667" y1="435" y2="435"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="271.6667" x="1871.6667" y="458.6841">stepMap: Map&lt;String, Step&gt;</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1863.3333" x2="2151.6667" y1="469.6745" y2="469.6745"/><!--MD5=[4349ef86df67e4e10d3ce1d0d09e2de4]
class SimpleFlow--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="165.3646" id="SimpleFlow" style="stroke: #225C4D; stroke-width: 2.5;" width="503.3333" x="1290.8333" y="350"/><ellipse cx="1478.75" cy="376.6667" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M1483.6979,386.0677 Q1482.7344,386.5625 1481.6667,386.7969 Q1480.599,387.0573 1479.4271,387.0573 Q1475.2604,387.0573 1473.0469,384.3229 Q1470.8594,381.5625 1470.8594,376.3542 Q1470.8594,371.1458 1473.0469,368.3854 Q1475.2604,365.625 1479.4271,365.625 Q1480.599,365.625 1481.6667,365.8854 Q1482.7604,366.1458 1483.6979,366.6406 L1483.6979,371.1719 Q1482.6563,370.2083 1481.6667,369.7656 Q1480.6771,369.2969 1479.6354,369.2969 Q1477.3958,369.2969 1476.25,371.0938 Q1475.1042,372.8646 1475.1042,376.3542 Q1475.1042,379.8438 1476.25,381.6406 Q1477.3958,383.4115 1479.6354,383.4115 Q1480.6771,383.4115 1481.6667,382.9688 Q1482.6563,382.5 1483.6979,381.5365 L1483.6979,386.0677 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="113.3333" x="1512.9167" y="383.5905">SimpleFlow</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1292.5" x2="1792.5" y1="403.3333" y2="403.3333"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="121.6667" x="1300.8333" y="427.0174">name: String</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="483.3333" x="1300.8333" y="448.3586">transitionMap: Map&lt;String, Set&lt;StateTransition&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="285" x="1300.8333" y="469.6997">stateMap: Map&lt;String, State&gt;</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="375" x="1300.8333" y="491.0409">stateTransitions: List&lt;StateTransition&gt;</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1292.5" x2="1792.5" y1="502.0313" y2="502.0313"/><!--MD5=[60d6b92408f98aed8df94d5c6e04aa63]
class State--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="144.0234" id="State" style="stroke: #225C4D; stroke-width: 2.5;" width="518.3333" x="405" y="45.8333"/><ellipse cx="630.4167" cy="72.5" fill="#B4A7E5" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M623.6198,65.4427 L623.6198,61.849 L635.9375,61.849 L635.9375,65.4427 L631.8229,65.4427 L631.8229,78.9063 L635.9375,78.9063 L635.9375,82.5 L623.6198,82.5 L623.6198,78.9063 L627.7344,78.9063 L627.7344,65.4427 L623.6198,65.4427 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53.3333" x="664.5833" y="79.4238">State</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="406.6667" x2="921.6667" y1="99.1667" y2="99.1667"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="406.6667" x2="921.6667" y1="112.5" y2="112.5"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="166.6667" x="415" y="136.1841">getName(): String</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="498.3333" x="415" y="157.5252">handle(executor: FlowExecutor): FlowExecutionStatus</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="201.6667" x="415" y="178.8664">isEndState(): boolean</text><!--MD5=[d6f1cd396dc937fc1a673a676291c396]
class FlowExecutor--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="101.3411" id="FlowExecutor" style="stroke: #225C4D; stroke-width: 2.5;" width="315" x="10" y="66.6667"/><ellipse cx="92.9167" cy="93.3333" fill="#B4A7E5" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M86.1198,86.276 L86.1198,82.6823 L98.4375,82.6823 L98.4375,86.276 L94.3229,86.276 L94.3229,99.7396 L98.4375,99.7396 L98.4375,103.3333 L86.1198,103.3333 L86.1198,99.7396 L90.2344,99.7396 L90.2344,86.276 L86.1198,86.276 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="135" x="127.0833" y="100.2572">FlowExecutor</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="11.6667" x2="323.3333" y1="120" y2="120"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="11.6667" x2="323.3333" y1="133.3333" y2="133.3333"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="295" x="20" y="157.0174">executeStep(step: Step): String</text><!--MD5=[c21ba447c96c164cc1ee124342ce6c0a]
class StateTransition--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="144.0234" id="StateTransition" style="stroke: #225C4D; stroke-width: 2.5;" width="213.3333" x="1435.8333" y="616.6667"/><ellipse cx="1460.8333" cy="643.3333" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M1465.7813,652.7344 Q1464.8177,653.2292 1463.75,653.4635 Q1462.6823,653.724 1461.5104,653.724 Q1457.3438,653.724 1455.1302,650.9896 Q1452.9427,648.2292 1452.9427,643.0208 Q1452.9427,637.8125 1455.1302,635.0521 Q1457.3438,632.2917 1461.5104,632.2917 Q1462.6823,632.2917 1463.75,632.5521 Q1464.8438,632.8125 1465.7813,633.3073 L1465.7813,637.8385 Q1464.7396,636.875 1463.75,636.4323 Q1462.7604,635.9635 1461.7188,635.9635 Q1459.4792,635.9635 1458.3333,637.7604 Q1457.1875,639.5313 1457.1875,643.0208 Q1457.1875,646.5104 1458.3333,648.3073 Q1459.4792,650.0781 1461.7188,650.0781 Q1462.7604,650.0781 1463.75,649.6354 Q1464.7396,649.1667 1465.7813,648.2031 L1465.7813,652.7344 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="160" x="1484.1667" y="650.2572">StateTransition</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1437.5" x2="1647.5" y1="670" y2="670"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="110" x="1445.8333" y="693.6841">state: State</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="136.6667" x="1445.8333" y="715.0252">pattern: String</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="108.3333" x="1445.8333" y="736.3664">next: String</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1437.5" x2="1647.5" y1="747.3568" y2="747.3568"/><!--MD5=[6c77f74232eb9e0f009d7ee5bb512697]
class FlowExecutionStatus--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="208.0469" id="FlowExecutionStatus" style="stroke: #225C4D; stroke-width: 2.5;" width="268.3333" x="990" y="13.3333"/><ellipse cx="1015" cy="40" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M1019.9479,49.401 Q1018.9844,49.8958 1017.9167,50.1302 Q1016.849,50.3906 1015.6771,50.3906 Q1011.5104,50.3906 1009.2969,47.6563 Q1007.1094,44.8958 1007.1094,39.6875 Q1007.1094,34.4792 1009.2969,31.7188 Q1011.5104,28.9583 1015.6771,28.9583 Q1016.849,28.9583 1017.9167,29.2188 Q1019.0104,29.4792 1019.9479,29.974 L1019.9479,34.5052 Q1018.9063,33.5417 1017.9167,33.099 Q1016.9271,32.6302 1015.8854,32.6302 Q1013.6458,32.6302 1012.5,34.4271 Q1011.3542,36.1979 1011.3542,39.6875 Q1011.3542,43.1771 1012.5,44.974 Q1013.6458,46.7448 1015.8854,46.7448 Q1016.9271,46.7448 1017.9167,46.3021 Q1018.9063,45.8333 1019.9479,44.8698 L1019.9479,49.401 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="215" x="1038.3333" y="46.9238">FlowExecutionStatus</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="991.6667" x2="1256.6667" y1="66.6667" y2="66.6667"/><ellipse cx="1008.3333" cy="85" fill="none" rx="5" ry="5" style="stroke: #038048; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="113.3333" x="1023.3333" y="90.3507">COMPLETED</text><ellipse cx="1008.3333" cy="106.3411" fill="none" rx="5" ry="5" style="stroke: #038048; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="88.3333" x="1023.3333" y="111.6919">STOPPED</text><ellipse cx="1008.3333" cy="127.6823" fill="none" rx="5" ry="5" style="stroke: #038048; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="61.6667" x="1023.3333" y="133.033">FAILED</text><ellipse cx="1008.3333" cy="149.0234" fill="none" rx="5" ry="5" style="stroke: #038048; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1023.3333" y="154.3742">UNKNOWN</text><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="0" x="1028.3333" y="175.7153"/><rect fill="none" height="10" style="stroke: #C82930; stroke-width: 1.6666666666666667;" width="10" x="1003.3333" y="186.7057"/><text fill="#000000" font-family="sans-serif" font-size="18.3333" lengthAdjust="spacingAndGlyphs" textLength="121.6667" x="1023.3333" y="197.0565">name: String</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="991.6667" x2="1256.6667" y1="208.0469" y2="208.0469"/><!--MD5=[579cdc8dcd8d67dfcab1d08956c379e0]
class DecisionState--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="DecisionState" style="stroke: #225C4D; stroke-width: 2.5;" width="198.3333" x="675" y="648.3333"/><ellipse cx="700" cy="675" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M704.9479,684.401 Q703.9844,684.8958 702.9167,685.1302 Q701.849,685.3906 700.6771,685.3906 Q696.5104,685.3906 694.2969,682.6563 Q692.1094,679.8958 692.1094,674.6875 Q692.1094,669.4792 694.2969,666.7188 Q696.5104,663.9583 700.6771,663.9583 Q701.849,663.9583 702.9167,664.2188 Q704.0104,664.4792 704.9479,664.974 L704.9479,669.5052 Q703.9063,668.5417 702.9167,668.099 Q701.9271,667.6302 700.8854,667.6302 Q698.6458,667.6302 697.5,669.4271 Q696.3542,671.1979 696.3542,674.6875 Q696.3542,678.1771 697.5,679.974 Q698.6458,681.7448 700.8854,681.7448 Q701.9271,681.7448 702.9167,681.3021 Q703.9063,680.8333 704.9479,679.8698 L704.9479,684.401 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="145" x="723.3333" y="681.9238">DecisionState</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="676.6667" x2="871.6667" y1="701.6667" y2="701.6667"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="676.6667" x2="871.6667" y1="715" y2="715"/><!--MD5=[ecbec5e4f2b5e5d4c18f599ff884d62e]
class EndState--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="EndState" style="stroke: #225C4D; stroke-width: 2.5;" width="150" x="940.8333" y="648.3333"/><ellipse cx="965.8333" cy="675" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M970.7813,684.401 Q969.8177,684.8958 968.75,685.1302 Q967.6823,685.3906 966.5104,685.3906 Q962.3438,685.3906 960.1302,682.6563 Q957.9427,679.8958 957.9427,674.6875 Q957.9427,669.4792 960.1302,666.7188 Q962.3438,663.9583 966.5104,663.9583 Q967.6823,663.9583 968.75,664.2188 Q969.8438,664.4792 970.7813,664.974 L970.7813,669.5052 Q969.7396,668.5417 968.75,668.099 Q967.7604,667.6302 966.7188,667.6302 Q964.4792,667.6302 963.3333,669.4271 Q962.1875,671.1979 962.1875,674.6875 Q962.1875,678.1771 963.3333,679.974 Q964.4792,681.7448 966.7188,681.7448 Q967.7604,681.7448 968.75,681.3021 Q969.7396,680.8333 970.7813,679.8698 L970.7813,684.401 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="96.6667" x="989.1667" y="681.9238">EndState</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="942.5" x2="1089.1667" y1="701.6667" y2="701.6667"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="942.5" x2="1089.1667" y1="715" y2="715"/><!--MD5=[9934046d1edddf34ce6d9d515568d29d]
class FlowState--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="FlowState" style="stroke: #225C4D; stroke-width: 2.5;" width="155" x="1158.3333" y="648.3333"/><ellipse cx="1183.3333" cy="675" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M1188.2813,684.401 Q1187.3177,684.8958 1186.25,685.1302 Q1185.1823,685.3906 1184.0104,685.3906 Q1179.8438,685.3906 1177.6302,682.6563 Q1175.4427,679.8958 1175.4427,674.6875 Q1175.4427,669.4792 1177.6302,666.7188 Q1179.8438,663.9583 1184.0104,663.9583 Q1185.1823,663.9583 1186.25,664.2188 Q1187.3438,664.4792 1188.2813,664.974 L1188.2813,669.5052 Q1187.2396,668.5417 1186.25,668.099 Q1185.2604,667.6302 1184.2188,667.6302 Q1181.9792,667.6302 1180.8333,669.4271 Q1179.6875,671.1979 1179.6875,674.6875 Q1179.6875,678.1771 1180.8333,679.974 Q1181.9792,681.7448 1184.2188,681.7448 Q1185.2604,681.7448 1186.25,681.3021 Q1187.2396,680.8333 1188.2813,679.8698 L1188.2813,684.401 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="101.6667" x="1206.6667" y="681.9238">FlowState</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1160" x2="1311.6667" y1="701.6667" y2="701.6667"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="1160" x2="1311.6667" y1="715" y2="715"/><!--MD5=[c696da8251703e85eea06543be68219e]
class SplitState--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="SplitState" style="stroke: #225C4D; stroke-width: 2.5;" width="155" x="228.3333" y="648.3333"/><ellipse cx="253.3333" cy="675" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M258.2813,684.401 Q257.3177,684.8958 256.25,685.1302 Q255.1823,685.3906 254.0104,685.3906 Q249.8438,685.3906 247.6302,682.6563 Q245.4427,679.8958 245.4427,674.6875 Q245.4427,669.4792 247.6302,666.7188 Q249.8438,663.9583 254.0104,663.9583 Q255.1823,663.9583 256.25,664.2188 Q257.3438,664.4792 258.2813,664.974 L258.2813,669.5052 Q257.2396,668.5417 256.25,668.099 Q255.2604,667.6302 254.2188,667.6302 Q251.9792,667.6302 250.8333,669.4271 Q249.6875,671.1979 249.6875,674.6875 Q249.6875,678.1771 250.8333,679.974 Q251.9792,681.7448 254.2188,681.7448 Q255.2604,681.7448 256.25,681.3021 Q257.2396,680.8333 258.2813,679.8698 L258.2813,684.401 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="101.6667" x="276.6667" y="681.9238">SplitState</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="230" x2="381.6667" y1="701.6667" y2="701.6667"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="230" x2="381.6667" y1="715" y2="715"/><!--MD5=[aa5099c602e49c386b6cf0056333860c]
class StepState--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="StepState" style="stroke: #225C4D; stroke-width: 2.5;" width="158.3333" x="450" y="648.3333"/><ellipse cx="475" cy="675" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M479.9479,684.401 Q478.9844,684.8958 477.9167,685.1302 Q476.849,685.3906 475.6771,685.3906 Q471.5104,685.3906 469.2969,682.6563 Q467.1094,679.8958 467.1094,674.6875 Q467.1094,669.4792 469.2969,666.7188 Q471.5104,663.9583 475.6771,663.9583 Q476.849,663.9583 477.9167,664.2188 Q479.0104,664.4792 479.9479,664.974 L479.9479,669.5052 Q478.9063,668.5417 477.9167,668.099 Q476.9271,667.6302 475.8854,667.6302 Q473.6458,667.6302 472.5,669.4271 Q471.3542,671.1979 471.3542,674.6875 Q471.3542,678.1771 472.5,679.974 Q473.6458,681.7448 475.8854,681.7448 Q476.9271,681.7448 477.9167,681.3021 Q478.9063,680.8333 479.9479,679.8698 L479.9479,684.401 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="105" x="498.3333" y="681.9238">StepState</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="451.6667" x2="606.6667" y1="701.6667" y2="701.6667"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="451.6667" x2="606.6667" y1="715" y2="715"/><!--MD5=[e1d3905c26907f2c65368d4121e981a8]
class JobFlowExecutor--><rect fill="#DDEEE8" filter="url(#f1ls5bs6p8w9vn)" height="80" id="JobFlowExecutor" style="stroke: #225C4D; stroke-width: 2.5;" width="221.6667" x="31.6667" y="392.5"/><ellipse cx="56.6667" cy="419.1667" fill="#ADD1B2" rx="18.3333" ry="18.3333" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><path d="M61.6146,428.5677 Q60.651,429.0625 59.5833,429.2969 Q58.5156,429.5573 57.3438,429.5573 Q53.1771,429.5573 50.9635,426.8229 Q48.776,424.0625 48.776,418.8542 Q48.776,413.6458 50.9635,410.8854 Q53.1771,408.125 57.3438,408.125 Q58.5156,408.125 59.5833,408.3854 Q60.6771,408.6458 61.6146,409.1406 L61.6146,413.6719 Q60.5729,412.7083 59.5833,412.2656 Q58.5938,411.7969 57.5521,411.7969 Q55.3125,411.7969 54.1667,413.5938 Q53.0208,415.3646 53.0208,418.8542 Q53.0208,422.3438 54.1667,424.1406 Q55.3125,425.9115 57.5521,425.9115 Q58.5938,425.9115 59.5833,425.4688 Q60.5729,425 61.6146,424.0365 L61.6146,428.5677 Z "/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="168.3333" x="80" y="426.0905">JobFlowExecutor</text><line style="stroke: #225C4D; stroke-width: 2.5;" x1="33.3333" x2="251.6667" y1="445.8333" y2="445.8333"/><line style="stroke: #225C4D; stroke-width: 2.5;" x1="33.3333" x2="251.6667" y1="459.1667" y2="459.1667"/><!--MD5=[7b339bd3ebd69459641a8dbb5f89755e]
reverse link Job to SimpleJob--><path d="M2297.5,202.2167 C2297.5,263.95 2297.5,345.3333 2297.5,392.4833 " fill="none" id="Job&lt;-SimpleJob" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2285.8333,201.8833,2297.5,168.55,2309.1667,201.8833,2285.8333,201.8833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[4255fe17091084f3761d9d4faaf8a6f4]
reverse link Job to FlowJob--><path d="M2228.2667,193.5667 C2174.2667,251.6 2100.7667,330.6 2053.7167,381.1667 " fill="none" id="Job&lt;-FlowJob" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2220.3,185,2251.55,168.55,2237.3833,200.9,2220.3,185" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[1b2bca657974f4eda9acec0daa54a0aa]
link SimpleJob to Step--><path d="M2255.67,488.3544 C2255.67,488.3544 2185.2667,579.5 2154.05,619.9167 " fill="none" id="SimpleJob-Step" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><polygon fill="#225C4D" points="2140.8,637.0833,2155.2445,629.2858,2145.8933,630.4877,2144.6914,621.1365,2140.8,637.0833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><line style="stroke: #225C4D; stroke-width: 1.6666666666666667;" x1="2145.8933" x2="2154.0333" y1="630.4877" y2="619.9333"/><polygon fill="#225C4D" points="2267.8833,472.5167,2256.4974,476.3644,2255.67,488.3544,2267.0559,484.5067,2267.8833,472.5167" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacingAndGlyphs" textLength="11.6667" x="2135.8296" y="619.1028">*</text><!--MD5=[66a1eb3d369176b415eb1ac086f3945e]
link Flow to FlowJob--><path d="M1803,226.3333 C1849.55,272.8833 1944.1412,367.4745 1944.1412,367.4745 " fill="none" id="Flow-FlowJob" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><polygon fill="#225C4D" points="1958.2833,381.6167,1955.9263,369.8316,1944.1412,367.4745,1946.4982,379.2596,1958.2833,381.6167" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><polygon fill="#225C4D" points="1787.65,210.9833,1793.5426,226.304,1793.5426,216.8759,1802.9706,216.8759,1787.65,210.9833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><line style="stroke: #225C4D; stroke-width: 1.6666666666666667;" x1="1793.5426" x2="1802.975" y1="216.8759" y2="226.3083"/><text fill="#000000" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacingAndGlyphs" textLength="13.3333" x="1784.6943" y="244.0227">1</text><!--MD5=[e5effc4b493fab07c4dc506cedba19ce]
reverse link Flow to SimpleFlow--><path d="M1635.7,241.4 C1617.8167,277.7667 1598.6667,316.6833 1582.4,349.7167 " fill="none" id="Flow&lt;-SimpleFlow" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1625.4667,235.75,1650.65,210.9833,1646.4167,246.05,1625.4667,235.75" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[aa83f64ec2b9fffe61a2f1eaf86c02c6]
reverse link State to SimpleFlow--><path d="M858.8333,192.1 C891.5,202.9333 925.2667,213.25 957.5,221.6667 C1081.2167,253.9667 1119.8667,230.2167 1240.8333,271.6667 C1298.8167,291.5333 1359.2167,321.35 1410.6167,349.8333 " fill="none" id="State&lt;-SimpleFlow" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><polygon fill="#225C4D" points="850.55,189.35,862.6621,200.4289,858.4533,191.9924,866.8899,187.7836,850.55,189.35" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacingAndGlyphs" textLength="108.3333" x="1310.8333" y="293.4448">startState</text><!--MD5=[6706b0482703235f9edf6b2f1b773892]
reverse link FlowExecutor to State--><path d="M333.8167,117.5 C357.4167,117.5 381,117.5 404.6,117.5 " fill="none" id="FlowExecutor&lt;-State" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="#225C4D" points="325.1333,117.5,340.1333,124.1667,333.4667,117.5,340.1333,110.8333,325.1333,117.5" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[2e628cf5fb047173c3328ba4004b4611]
link State to FlowExecutionStatus--><path d="M923.3667,117.5 C942.4167,117.5 961.45,117.5 980.5,117.5 " fill="none" id="State-&gt;FlowExecutionStatus" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="#225C4D" points="989.25,117.5,974.25,110.8333,980.9167,117.5,974.25,124.1667,989.25,117.5" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[45e2fad65158c94b8387407aeb9e6e2b]
link SimpleFlow to StateTransition--><path d="M1542.5,515.45 C1542.5,544.9833 1542.5,578.2833 1542.5,607.6167 " fill="none" id="SimpleFlow-&gt;StateTransition" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="#225C4D" points="1542.5,616.5833,1549.1667,601.5833,1542.5,608.25,1535.8333,601.5833,1542.5,616.5833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[580c699123f8871fc82bbd5511882702]
reverse link State to DecisionState--><path d="M684.1333,222.1667 C708.8667,349.8 749.8167,561.05 766.6167,647.7167 " fill="none" id="State&lt;-DecisionState" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="672.65,224.2667,677.7667,189.3167,695.5667,219.8333,672.65,224.2667" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[31f0e7d0e7d02aaee0a5417537347f03]
reverse link State to EndState--><path d="M725.4833,218.1 C804.2833,345.2833 937.4167,560.1167 991.7,647.7167 " fill="none" id="State&lt;-EndState" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="715.2833,223.8,707.6333,189.3167,735.1167,211.5167,715.2833,223.8" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[3f312a10789e847f983019d9a65299a6]
reverse link State to FlowState--><path d="M765.1167,212.3667 C809.7167,254.0333 862.5,304.0167 909.1667,350 C1016.7667,456.0333 1139.95,585.1667 1199.6333,648.25 " fill="none" id="State&lt;-FlowState" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="757.05,220.7833,740.6,189.5333,772.95,203.7167,757.05,220.7833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[52af99cbc727fa5bd2418cf5c1cc161b]
reverse link State to SplitState--><path d="M601.7,218.1 C521.3833,345.2833 385.7333,560.1167 330.4167,647.7167 " fill="none" id="State&lt;-SplitState" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="592.2,211.2833,619.8667,189.3167,611.9333,223.7333,592.2,211.2833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[b2de8e521892217c8c45f8058a4dc909]
reverse link State to StepState--><path d="M639.6667,222.1667 C609.3,349.8 559.05,561.05 538.4333,647.7167 " fill="none" id="State&lt;-StepState" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="628.4167,219.05,647.4833,189.3167,651.1167,224.45,628.4167,219.05" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[4fea9aa76509295509c4d45bf3ef8fb7]
reverse link FlowExecutor to JobFlowExecutor--><path d="M160.8667,201.7833 C155.9167,263.5667 149.3667,345.2167 145.5833,392.4833 " fill="none" id="FlowExecutor&lt;-JobFlowExecutor" style="stroke: #225C4D; stroke-width: 1.6666666666666667; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="149.25,200.85,163.5333,168.55,172.5,202.7167,149.25,200.85" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><!--MD5=[c0cd337d91fb6809cd7bc85e95a80dbe]
link StepState to Step--><path d="M563.0333,647.8667 C590.1333,618.85 630.9167,582.1167 675.8333,565.8333 C879.1667,492.0833 1434.75,537.3667 1649.1667,565.8333 C1749.3833,579.1333 1858.8667,608.2833 1945.15,634.8167 " fill="none" id="StepState-&gt;Step" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><polygon fill="#225C4D" points="1953.4167,637.3833,1941.0474,626.5924,1945.4534,634.9276,1937.1182,639.3336,1953.4167,637.3833" style="stroke: #225C4D; stroke-width: 1.6666666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacingAndGlyphs" textLength="13.3333" x="1906.013" y="618.675">1</text><!--MD5=[032f5c31b05d179593075c821c8bd017]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }
scale 5/3
skinparam nodesep 40
skinparam ranksep 60

interface Job {
    execute(execution: JobExecution)
}

interface Step {
    execute(stepExecution: StepExecution)
}

interface Flow {
    getName(): String
    start(executor: FlowExecutor):FlowExecution
    resume(stateName: java.lang.String, executor: FlowExecutor): FlowExecution
    getState(stateName: java.lang.String): State
    getStates(): Collection<State>
}

class SimpleJob

class FlowJob {
    stepMap: Map<String, Step>
}

Job <|.. SimpleJob
Job <|.. FlowJob

SimpleJob *- -> "*" Step
FlowJob *-up-> "1" Flow

class SimpleFlow {
    name: String
    transitionMap: Map<String, Set<StateTransition>>
    stateMap: Map<String, State>
    stateTransitions: List<StateTransition>
}

Flow <|.. SimpleFlow

interface State {
    getName(): String
    handle(executor: FlowExecutor): FlowExecutionStatus
    isEndState(): boolean
}

interface FlowExecutor {
    executeStep(step: Step): String
}

class StateTransition {
    state: State
    pattern: String
    next: String
}

class FlowExecutionStatus {
    {static} +COMPLETED
    {static} +STOPPED
    {static} +FAILED
    {static} +UNKNOWN

    -name: String
}

SimpleFlow -up-> State: startState
State .left.> FlowExecutor
State .> FlowExecutionStatus
SimpleFlow ..> StateTransition

State <|... DecisionState
State <|... EndState
State <|... FlowState
State <|... SplitState
State <|... StepState

FlowExecutor <|.. JobFlowExecutor
StepState -> "1" Step
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.6+10-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: DK
--></g></svg>