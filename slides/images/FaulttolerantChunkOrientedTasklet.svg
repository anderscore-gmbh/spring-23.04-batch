<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="702px" preserveAspectRatio="none" style="width:2430px;height:702px;" version="1.1" viewBox="0 0 2430 702" width="2430px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vcwj6dcsds7d" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[367815e00a99475f8ce66a36b1be030a]
class ChunkProvider--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="ChunkProvider" style="stroke: #225C4D; stroke-width: 3.0;" width="250" x="188" y="16"/><ellipse cx="218" cy="48" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M209.8438,39.5313 L209.8438,35.2188 L224.625,35.2188 L224.625,39.5313 L219.6875,39.5313 L219.6875,55.6875 L224.625,55.6875 L224.625,60 L209.8438,60 L209.8438,55.6875 L214.7813,55.6875 L214.7813,39.5313 L209.8438,39.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="170" x="246" y="56.3086">ChunkProvider</text><rect fill="#FFFFFF" height="31.9375" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="12" x="432" y="10"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="434" y="34.2773">I</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="190" x2="436" y1="80" y2="80"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="190" x2="436" y1="96" y2="96"/><!--MD5=[f763bb912e59dca0f8fbce405cf9c903]
class ChunkProcessor--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="ChunkProcessor" style="stroke: #225C4D; stroke-width: 3.0;" width="268" x="1051" y="16"/><ellipse cx="1081" cy="48" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1072.8438,39.5313 L1072.8438,35.2188 L1087.625,35.2188 L1087.625,39.5313 L1082.6875,39.5313 L1082.6875,55.6875 L1087.625,55.6875 L1087.625,60 L1072.8438,60 L1072.8438,55.6875 L1077.7813,55.6875 L1077.7813,39.5313 L1072.8438,39.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="188" x="1109" y="56.3086">ChunkProcessor</text><rect fill="#FFFFFF" height="31.9375" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="12" x="1313" y="10"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="1315" y="34.2773">I</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1053" x2="1317" y1="80" y2="80"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1053" x2="1317" y1="96" y2="96"/><!--MD5=[e5192d39c070dac6a79b288c93719d10]
class Classifier--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="Classifier" style="stroke: #225C4D; stroke-width: 3.0;" width="406" x="456" y="573"/><ellipse cx="486" cy="605" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M477.8438,596.5313 L477.8438,592.2188 L492.625,592.2188 L492.625,596.5313 L487.6875,596.5313 L487.6875,612.6875 L492.625,612.6875 L492.625,617 L477.8438,617 L477.8438,612.6875 L482.7813,612.6875 L482.7813,596.5313 L477.8438,596.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="514" y="613.3086">Classifier</text><rect fill="#FFFFFF" height="31.9375" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="234" x="634" y="567"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="230" x="636" y="591.2773">Throwable, Boolean</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="458" x2="860" y1="637" y2="637"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="458" x2="860" y1="653" y2="653"/><!--MD5=[69d2560477d88007888700c846ca98b5]
class SkipPolicy--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="SkipPolicy" style="stroke: #225C4D; stroke-width: 3.0;" width="184" x="567" y="272"/><ellipse cx="597" cy="304" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M588.8438,295.5313 L588.8438,291.2188 L603.625,291.2188 L603.625,295.5313 L598.6875,295.5313 L598.6875,311.6875 L603.625,311.6875 L603.625,316 L588.8438,316 L588.8438,311.6875 L593.7813,311.6875 L593.7813,295.5313 L588.8438,295.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="120" x="625" y="312.3086">SkipPolicy</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="569" x2="749" y1="336" y2="336"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="569" x2="749" y1="352" y2="352"/><!--MD5=[a9ead3c7832d7caf457cba276d0f1cee]
class RetryOperations--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="RetryOperations" style="stroke: #225C4D; stroke-width: 3.0;" width="254" x="1692" y="16"/><ellipse cx="1722" cy="48" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1713.8438,39.5313 L1713.8438,35.2188 L1728.625,35.2188 L1728.625,39.5313 L1723.6875,39.5313 L1723.6875,55.6875 L1728.625,55.6875 L1728.625,60 L1713.8438,60 L1713.8438,55.6875 L1718.7813,55.6875 L1718.7813,39.5313 L1713.8438,39.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="190" x="1750" y="56.3086">RetryOperations</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1694" x2="1944" y1="80" y2="80"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1694" x2="1944" y1="96" y2="96"/><!--MD5=[18739bfd5e28dd7aeefd15401f8b62db]
class KeyGenerator--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="121.6094" id="KeyGenerator" style="stroke: #225C4D; stroke-width: 3.0;" width="338" x="1180" y="560"/><ellipse cx="1260.4" cy="592" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1252.2438,583.5313 L1252.2438,579.2188 L1267.025,579.2188 L1267.025,583.5313 L1262.0875,583.5313 L1262.0875,599.6875 L1267.025,599.6875 L1267.025,604 L1252.2438,604 L1252.2438,599.6875 L1257.1813,599.6875 L1257.1813,583.5313 L1252.2438,583.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="162" x="1299.6" y="600.3086">KeyGenerator</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1182" x2="1516" y1="624" y2="624"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1182" x2="1516" y1="640" y2="640"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="314" x="1192" y="668.4209">getKey(item: Object): Object</text><path d="M1588,581 L1588,613 L1518.6,621 L1588,629 L1588,661.5313 A0,0 0 0 0 1588,661.5313 L2406,661.5313 A0,0 0 0 0 2406,661.5313 L2406,601 L2386,581 L1588,581 A0,0 0 0 0 1588,581 " fill="#FBFB77" filter="url(#f1vcwj6dcsds7d)" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M2386,581 L2386,601 L2406,601 L2386,581 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="776" x="1600" y="615.1338">Ãœber den Key merkt sich das RetryTemplate im RetryContext</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="506" x="1600" y="645.3994">welche Items schon verarbeitet wurden.</text><!--MD5=[7a3517b8671877737ac75afea9150f0b]
class ChunkOrientedTasklet--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="ChunkOrientedTasklet" style="stroke: #225C4D; stroke-width: 3.0;" width="356" x="587" y="16"/><ellipse cx="617" cy="48" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M622.9375,59.2813 Q621.7813,59.875 620.5,60.1563 Q619.2188,60.4688 617.8125,60.4688 Q612.8125,60.4688 610.1563,57.1875 Q607.5313,53.875 607.5313,47.625 Q607.5313,41.375 610.1563,38.0625 Q612.8125,34.75 617.8125,34.75 Q619.2188,34.75 620.5,35.0625 Q621.8125,35.375 622.9375,35.9688 L622.9375,41.4063 Q621.6875,40.25 620.5,39.7188 Q619.3125,39.1563 618.0625,39.1563 Q615.375,39.1563 614,41.3125 Q612.625,43.4375 612.625,47.625 Q612.625,51.8125 614,53.9688 Q615.375,56.0938 618.0625,56.0938 Q619.3125,56.0938 620.5,55.5625 Q621.6875,55 622.9375,53.8438 L622.9375,59.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="276" x="645" y="56.3086">ChunkOrientedTasklet</text><rect fill="#FFFFFF" height="31.9375" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="12" x="937" y="10"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="939" y="34.2773">I</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="589" x2="941" y1="80" y2="80"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="589" x2="941" y1="96" y2="96"/><!--MD5=[63dbb8b40f8426ba93ef9d096552c109]
class FaultTolerantChunkProvider--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="121.6094" id="FaultTolerantChunkProvider" style="stroke: #225C4D; stroke-width: 3.0;" width="426" x="70" y="259"/><ellipse cx="100" cy="291" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M105.9375,302.2813 Q104.7813,302.875 103.5,303.1563 Q102.2188,303.4688 100.8125,303.4688 Q95.8125,303.4688 93.1563,300.1875 Q90.5313,296.875 90.5313,290.625 Q90.5313,284.375 93.1563,281.0625 Q95.8125,277.75 100.8125,277.75 Q102.2188,277.75 103.5,278.0625 Q104.8125,278.375 105.9375,278.9688 L105.9375,284.4063 Q104.6875,283.25 103.5,282.7188 Q102.3125,282.1563 101.0625,282.1563 Q98.375,282.1563 97,284.3125 Q95.625,286.4375 95.625,290.625 Q95.625,294.8125 97,296.9688 Q98.375,299.0938 101.0625,299.0938 Q102.3125,299.0938 103.5,298.5625 Q104.6875,298 105.9375,296.8438 L105.9375,302.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="346" x="128" y="299.3086">FaultTolerantChunkProvider</text><rect fill="#FFFFFF" height="31.9375" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="12" x="490" y="253"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="492" y="277.2773">I</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="72" x2="494" y1="323" y2="323"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="312" x="82" y="351.4209">maxSkipsOnRead: int = 100</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="72" x2="494" y1="364.6094" y2="364.6094"/><!--MD5=[cdf3b17061847a316f4eba3d87d6eb9e]
class FaultTolerantChunkProcessor--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="172.8281" id="FaultTolerantChunkProcessor" style="stroke: #225C4D; stroke-width: 3.0;" width="482" x="1108" y="234"/><ellipse cx="1138" cy="266" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1143.9375,277.2813 Q1142.7813,277.875 1141.5,278.1563 Q1140.2188,278.4688 1138.8125,278.4688 Q1133.8125,278.4688 1131.1563,275.1875 Q1128.5313,271.875 1128.5313,265.625 Q1128.5313,259.375 1131.1563,256.0625 Q1133.8125,252.75 1138.8125,252.75 Q1140.2188,252.75 1141.5,253.0625 Q1142.8125,253.375 1143.9375,253.9688 L1143.9375,259.4063 Q1142.6875,258.25 1141.5,257.7188 Q1140.3125,257.1563 1139.0625,257.1563 Q1136.375,257.1563 1135,259.3125 Q1133.625,261.4375 1133.625,265.625 Q1133.625,269.8125 1135,271.9688 Q1136.375,274.0938 1139.0625,274.0938 Q1140.3125,274.0938 1141.5,273.5625 Q1142.6875,273 1143.9375,271.8438 L1143.9375,277.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="370" x="1166" y="274.3086">FaultTolerantChunkProcessor</text><rect fill="#FFFFFF" height="31.9375" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="44" x="1552" y="228"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="1554" y="252.2773">I, O</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1110" x2="1588" y1="298" y2="298"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="282" x="1120" y="326.4209">buffering: boolean = true</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="450" x="1120" y="352.0303">processorTransactional: boolean = true</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="318" x="1120" y="377.6396">chunkMonitor: ChunkMonitor</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1110" x2="1588" y1="390.8281" y2="390.8281"/><!--MD5=[b9d8e82e3179e8b2967c21a2085e414d]
class BinaryExceptionClassifier--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="BinaryExceptionClassifier" style="stroke: #225C4D; stroke-width: 3.0;" width="374" x="12" y="573"/><ellipse cx="42" cy="605" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M47.9375,616.2813 Q46.7813,616.875 45.5,617.1563 Q44.2188,617.4688 42.8125,617.4688 Q37.8125,617.4688 35.1563,614.1875 Q32.5313,610.875 32.5313,604.625 Q32.5313,598.375 35.1563,595.0625 Q37.8125,591.75 42.8125,591.75 Q44.2188,591.75 45.5,592.0625 Q46.8125,592.375 47.9375,592.9688 L47.9375,598.4063 Q46.6875,597.25 45.5,596.7188 Q44.3125,596.1563 43.0625,596.1563 Q40.375,596.1563 39,598.3125 Q37.625,600.4375 37.625,604.625 Q37.625,608.8125 39,610.9688 Q40.375,613.0938 43.0625,613.0938 Q44.3125,613.0938 45.5,612.5625 Q46.6875,612 47.9375,610.8438 L47.9375,616.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="310" x="70" y="613.3086">BinaryExceptionClassifier</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="14" x2="384" y1="637" y2="637"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="14" x2="384" y1="653" y2="653"/><!--MD5=[25eb8accfda30b2902f360bc27b7055c]
class BatchRetryTemplate--><rect fill="#DDEEE8" filter="url(#f1vcwj6dcsds7d)" height="96" id="BatchRetryTemplate" style="stroke: #225C4D; stroke-width: 3.0;" width="316" x="1661" y="272"/><ellipse cx="1691" cy="304" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1696.9375,315.2813 Q1695.7813,315.875 1694.5,316.1563 Q1693.2188,316.4688 1691.8125,316.4688 Q1686.8125,316.4688 1684.1563,313.1875 Q1681.5313,309.875 1681.5313,303.625 Q1681.5313,297.375 1684.1563,294.0625 Q1686.8125,290.75 1691.8125,290.75 Q1693.2188,290.75 1694.5,291.0625 Q1695.8125,291.375 1696.9375,291.9688 L1696.9375,297.4063 Q1695.6875,296.25 1694.5,295.7188 Q1693.3125,295.1563 1692.0625,295.1563 Q1689.375,295.1563 1688,297.3125 Q1686.625,299.4375 1686.625,303.625 Q1686.625,307.8125 1688,309.9688 Q1689.375,312.0938 1692.0625,312.0938 Q1693.3125,312.0938 1694.5,311.5625 Q1695.6875,311 1696.9375,309.8438 L1696.9375,315.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="252" x="1719" y="312.3086">BatchRetryTemplate</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1663" x2="1975" y1="336" y2="336"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1663" x2="1975" y1="352" y2="352"/><!--MD5=[5683ac50f4d820bc81e5de392badf70e]
link ChunkProvider to ChunkOrientedTasklet--><path d="M464.38,64 C496.14,64 562.36,64 562.36,64 " fill="none" id="ChunkProvider-ChunkOrientedTasklet" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="586.36,64,574.36,56,562.36,64,574.36,72,586.36,64" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="438.36,64,456.36,72,448.36,64,456.36,56,438.36,64" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="448.36" x2="464.36" y1="64" y2="64"/><!--MD5=[0f9cd2b04c290173c473b9b133155a6e]
link ChunkOrientedTasklet to ChunkProcessor--><path d="M967,64 C967,64 1006.12,64 1024.62,64 " fill="none" id="ChunkOrientedTasklet-ChunkProcessor" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1050.76,64,1032.7688,55.9802,1040.76,63.989,1032.7512,71.9802,1050.76,64" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="1040.76" x2="1024.77" y1="63.989" y2="64"/><polygon fill="#FFFFFF" points="943,64,955,72,967,64,955,56,943,64" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[5d1f8d9217d246335df497536e9d3bf2]
reverse link ChunkProvider to FaultTolerantChunkProvider--><path d="M302.76,151.96 C298.58,187.12 293.84,226.9 290.06,258.72 " fill="none" id="ChunkProvider&lt;-FaultTolerantChunkProvider" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="288.86,150.28,307.5,112.22,316.68,153.6,288.86,150.28" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[fa8fd53b109edc2a0a7f33d7ea6fb972]
reverse link ChunkProcessor to FaultTolerantChunkProcessor--><path d="M1237.3,146.36 C1255.46,174.28 1275.88,205.64 1294.24,233.84 " fill="none" id="ChunkProcessor&lt;-FaultTolerantChunkProcessor" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1225.16,153.38,1215.08,112.22,1248.64,138.1,1225.16,153.38" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[da0eb67910a056660e01ea6dc5219317]
link FaultTolerantChunkProvider to Classifier--><path d="M377.0131,396.2566 C377.0131,396.2566 521.5,510.4 580.06,556.64 " fill="none" id="FaultTolerantChunkProvider-Classifier" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="600.58,572.84,591.414,555.4048,592.7329,566.6414,581.4963,567.9603,600.58,572.84" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="592.7329" x2="580.18" y1="566.6414" y2="556.74"/><polygon fill="#FFFFFF" points="358.18,381.38,362.6377,395.096,377.0131,396.2566,372.5554,382.5406,358.18,381.38" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="212" x="507" y="492.1338">rollbackClassifier</text><!--MD5=[46d5681bc10ee7e2a6a490e86f7362a1]
link FaultTolerantChunkProvider to SkipPolicy--><path d="M520.7,320 C520.7,320 534.2,320 539.88,320 " fill="none" id="FaultTolerantChunkProvider-SkipPolicy" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="566.44,320,548.44,312,556.44,320,548.44,328,566.44,320" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="556.44" x2="540.44" y1="320" y2="320"/><polygon fill="#FFFFFF" points="496.7,320,508.7,328,520.7,320,508.7,312,496.7,320" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[339707049033fc605575a475a70ee505]
link BinaryExceptionClassifier to Classifier--><path d="M386.78,621 C396.32,621 405.86,621 415.4,621 " fill="none" id="BinaryExceptionClassifier-&gt;Classifier" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="415.9,607,455.9,621,415.9,635,415.9,607" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[0b6b79927f7389afac1548eb3a9dc19f]
link SkipPolicy to FaultTolerantChunkProcessor--><path d="M777.56,320 C860.94,320 1083.32,320 1083.32,320 " fill="none" id="SkipPolicy-FaultTolerantChunkProcessor" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="1107.32,320,1095.32,312,1083.32,320,1095.32,328,1107.32,320" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="751.34,320,769.34,328,761.34,320,769.34,312,751.34,320" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="761.34" x2="777.34" y1="320" y2="320"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="284" x="787.5" y="306.1338">itemProcessSkipPolicy</text><!--MD5=[0b6b79927f7389afac1548eb3a9dc19f]
link SkipPolicy to FaultTolerantChunkProcessor--><path d="M777.54,355.54 C786.26,357.32 794.98,358.84 803.5,360 C893.64,372.24 1083.4301,361.5766 1083.4301,361.5766 " fill="none" id="SkipPolicy-FaultTolerantChunkProcessor-1" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="1107.32,359.28,1094.6095,352.465,1083.4301,361.5766,1096.1406,368.3916,1107.32,359.28" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="751.5,349.58,767.2616,361.3941,761.248,351.8109,770.8311,345.7973,751.5,349.58" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="761.248" x2="776.85" y1="351.8109" y2="355.39"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="248" x="805.5" y="352.1338">itemWriteSkipPolicy</text><!--MD5=[d8c9bc74555a166d59a64befd3e332a2]
link FaultTolerantChunkProcessor to Classifier--><path d="M1131.0769,415.8122 C1131.0769,415.8122 886.14,521.24 790.54,562.38 " fill="none" id="FaultTolerantChunkProcessor-Classifier" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="766.42,572.76,786.1164,572.9885,775.6046,568.8049,779.7882,558.2931,766.42,572.76" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="775.6046" x2="790.3" y1="568.8049" y2="562.48"/><polygon fill="#FFFFFF" points="1153.12,406.32,1138.9344,403.7184,1131.0769,415.8122,1145.2625,418.4138,1153.12,406.32" style="stroke: #225C4D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="212" x="1007" y="492.1338">rollbackClassifier</text><!--MD5=[0ebc0825040fe90951bbfbf1990e2e09]
reverse link RetryOperations to BatchRetryTemplate--><path d="M1819,152.28 C1819,192.14 1819,237.9 1819,271.22 " fill="none" id="RetryOperations&lt;-BatchRetryTemplate" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1805,152.22,1819,112.22,1833,152.22,1805,152.22" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[6c98b8dc06728c958452d699929f69a0]
link FaultTolerantChunkProcessor to BatchRetryTemplate--><path d="M1614.42,320 C1614.42,320 1628.82,320 1634.78,320 " fill="none" id="FaultTolerantChunkProcessor-BatchRetryTemplate" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1660.96,320,1642.96,312,1650.96,320,1642.96,328,1660.96,320" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="1650.96" x2="1634.96" y1="320" y2="320"/><polygon fill="#FFFFFF" points="1590.42,320,1602.42,328,1614.42,320,1602.42,312,1590.42,320" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[0963019870458429c0c3d983acaa9442]
link FaultTolerantChunkProcessor to KeyGenerator--><path d="M1349,430.32 C1349,430.32 1349,502.1 1349,533.62 " fill="none" id="FaultTolerantChunkProcessor-KeyGenerator" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="#225C4D" points="1349,559.94,1357,541.94,1349,549.94,1341,541.94,1349,559.94" style="stroke: #225C4D; stroke-width: 2.0;"/><line style="stroke: #225C4D; stroke-width: 2.0;" x1="1349" x2="1349" y1="549.94" y2="533.94"/><polygon fill="#FFFFFF" points="1349,406.32,1341,418.32,1349,430.32,1357,418.32,1349,406.32" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[4d081c33f98ed95d683f9380bf231e4b]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }
scale 2

interface ChunkProvider<I>
interface ChunkProcessor<I>
interface Classifier<Throwable, Boolean>
interface SkipPolicy
interface RetryOperations
interface KeyGenerator {
    getKey(item: Object): Object
}
note right
    Ãœber den Key merkt sich das RetryTemplate im RetryContext
    welche Items schon verarbeitet wurden.
end note

class ChunkOrientedTasklet<I>
class FaultTolerantChunkProvider<I> {
    maxSkipsOnRead: int = 100
}

class FaultTolerantChunkProcessor<I, O> {
    buffering: boolean = true
    processorTransactional: boolean = true
    chunkMonitor: ChunkMonitor
}

class BinaryExceptionClassifier
class BatchRetryTemplate

ChunkProvider <-o ChunkOrientedTasklet
ChunkOrientedTasklet o-> ChunkProcessor
ChunkProvider <|.. FaultTolerantChunkProvider
ChunkProcessor <|.. FaultTolerantChunkProcessor
FaultTolerantChunkProvider o- -> Classifier: rollbackClassifier
FaultTolerantChunkProvider o-> SkipPolicy
BinaryExceptionClassifier .|> Classifier

SkipPolicy <-o FaultTolerantChunkProcessor: itemProcessSkipPolicy
SkipPolicy <-o FaultTolerantChunkProcessor: itemWriteSkipPolicy
FaultTolerantChunkProcessor o- -> Classifier: rollbackClassifier
RetryOperations <|.. BatchRetryTemplate
FaultTolerantChunkProcessor o-> BatchRetryTemplate
FaultTolerantChunkProcessor o- -> KeyGenerator
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.6+10-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: DK
--></g></svg>