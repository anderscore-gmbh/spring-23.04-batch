<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="882px" preserveAspectRatio="none" style="width:1838px;height:882px;" version="1.1" viewBox="0 0 1838 882" width="1838px" zoomAndPan="magnify"><defs><filter height="300%" id="fz1sa3l2giiif" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[35e505132430ca32f21c3bdc508df863]
class ItemStream--><rect fill="#DDEEE8" filter="url(#fz1sa3l2giiif)" height="172.8281" id="ItemStream" style="stroke: #225C4D; stroke-width: 3.0;" width="378" x="659" y="224"/><ellipse cx="769.5" cy="256" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M761.3438,247.5313 L761.3438,243.2188 L776.125,243.2188 L776.125,247.5313 L771.1875,247.5313 L771.1875,263.6875 L776.125,263.6875 L776.125,268 L761.3438,268 L761.3438,263.6875 L766.2813,263.6875 L766.2813,247.5313 L761.3438,247.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="140" x="810.5" y="264.3086">ItemStream</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="661" x2="1035" y1="288" y2="288"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="661" x2="1035" y1="304" y2="304"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="354" x="671" y="332.4209">update(arg0: ExecutionContext)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="76" x="671" y="358.0303">close()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="332" x="671" y="383.6396">open(arg0: ExecutionContext)</text><!--MD5=[092ee6d6c772012017b4c728005e6592]
class StepBuilderHelper--><rect fill="#DDEEE8" filter="url(#fz1sa3l2giiif)" height="147.2188" id="StepBuilderHelper" style="stroke: #225C4D; stroke-width: 3.0;" width="698" x="1113" y="16"/><ellipse cx="1340.5" cy="48" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1346.4375,59.2813 Q1345.2813,59.875 1344,60.1563 Q1342.7188,60.4688 1341.3125,60.4688 Q1336.3125,60.4688 1333.6563,57.1875 Q1331.0313,53.875 1331.0313,47.625 Q1331.0313,41.375 1333.6563,38.0625 Q1336.3125,34.75 1341.3125,34.75 Q1342.7188,34.75 1344,35.0625 Q1345.3125,35.375 1346.4375,35.9688 L1346.4375,41.4063 Q1345.1875,40.25 1344,39.7188 Q1342.8125,39.1563 1341.5625,39.1563 Q1338.875,39.1563 1337.5,41.3125 Q1336.125,43.4375 1336.125,47.625 Q1336.125,51.8125 1337.5,53.9688 Q1338.875,56.0938 1341.5625,56.0938 Q1342.8125,56.0938 1344,55.5625 Q1345.1875,55 1346.4375,53.8438 L1346.4375,59.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="226" x="1381.5" y="56.3086">StepBuilderHelper</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1115" x2="1809" y1="80" y2="80"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1115" x2="1809" y1="96" y2="96"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="674" x="1125" y="124.4209">listener(listener: StepExecutionListener): StepBuilderHelper</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="494" x="1125" y="150.0303">listener(listener: Object): StepBuilderHelper</text><path d="M589,35 L589,145.7969 A0,0 0 0 0 589,145.7969 L1043,145.7969 A0,0 0 0 0 1043,145.7969 L1043,98 L1112.66,90 L1043,82 L1043,55 L1023,35 L589,35 A0,0 0 0 0 589,35 " fill="#FBFB77" filter="url(#fz1sa3l2giiif)" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1023,35 L1023,55 L1043,55 L1023,35 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="601" y="69.1338">Es können beliebige Objekte</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="368" x="601" y="99.3994">mit entsprechenden Listener</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="412" x="601" y="129.665">Annotationen registriert werden.</text><!--MD5=[c2278b845466dbf465347e80a0d408b9]
class AbstractTaskletStepBuilder--><rect fill="#DDEEE8" filter="url(#fz1sa3l2giiif)" height="147.2188" id="AbstractTaskletStepBuilder" style="stroke: #225C4D; stroke-width: 3.0;" width="710" x="1107" y="236"/><ellipse cx="1283.5" cy="268" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1289.4375,279.2813 Q1288.2813,279.875 1287,280.1563 Q1285.7188,280.4688 1284.3125,280.4688 Q1279.3125,280.4688 1276.6563,277.1875 Q1274.0313,273.875 1274.0313,267.625 Q1274.0313,261.375 1276.6563,258.0625 Q1279.3125,254.75 1284.3125,254.75 Q1285.7188,254.75 1287,255.0625 Q1288.3125,255.375 1289.4375,255.9688 L1289.4375,261.4063 Q1288.1875,260.25 1287,259.7188 Q1285.8125,259.1563 1284.5625,259.1563 Q1281.875,259.1563 1280.5,261.3125 Q1279.125,263.4375 1279.125,267.625 Q1279.125,271.8125 1280.5,273.9688 Q1281.875,276.0938 1284.5625,276.0938 Q1285.8125,276.0938 1287,275.5625 Q1288.1875,275 1289.4375,273.8438 L1289.4375,279.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="340" x="1324.5" y="276.3086">AbstractTaskletStepBuilder</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1109" x2="1815" y1="300" y2="300"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1109" x2="1815" y1="316" y2="316"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="650" x="1119" y="344.4209">stream(stream: ItemStream): AbstractTaskletStepBuilder</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="686" x="1119" y="370.0303">listener(listener: ChunkListener): AbstractTaskletStepBuilder</text><!--MD5=[83ea499f4e9a6c95d1c3ca4387867ed6]
class SimpleStepBuilder--><rect fill="#DDEEE8" filter="url(#fz1sa3l2giiif)" height="172.8281" id="SimpleStepBuilder" style="stroke: #225C4D; stroke-width: 3.0;" width="684" x="1120" y="456"/><ellipse cx="1340.5" cy="488" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1346.4375,499.2813 Q1345.2813,499.875 1344,500.1563 Q1342.7188,500.4688 1341.3125,500.4688 Q1336.3125,500.4688 1333.6563,497.1875 Q1331.0313,493.875 1331.0313,487.625 Q1331.0313,481.375 1333.6563,478.0625 Q1336.3125,474.75 1341.3125,474.75 Q1342.7188,474.75 1344,475.0625 Q1345.3125,475.375 1346.4375,475.9688 L1346.4375,481.4063 Q1345.1875,480.25 1344,479.7188 Q1342.8125,479.1563 1341.5625,479.1563 Q1338.875,479.1563 1337.5,481.3125 Q1336.125,483.4375 1336.125,487.625 Q1336.125,491.8125 1337.5,493.9688 Q1338.875,496.0938 1341.5625,496.0938 Q1342.8125,496.0938 1344,495.5625 Q1345.1875,495 1346.4375,493.8438 L1346.4375,499.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="226" x="1381.5" y="496.3086">SimpleStepBuilder</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1122" x2="1802" y1="520" y2="520"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1122" x2="1802" y1="536" y2="536"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="660" x="1132" y="564.4209">listener(listener: ItemProcessListener): SimpleStepBuilder</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="624" x="1132" y="590.0303">listener(listener: ItemReadListener): SimpleStepBuilder</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="624" x="1132" y="615.6396">listener(listener: ItemWriteListener): SimpleStepBuilder</text><path d="M391,471 L391,612.0625 A0,0 0 0 0 391,612.0625 L1049,612.0625 A0,0 0 0 0 1049,612.0625 L1049,550 L1119.76,542 L1049,534 L1049,491 L1029,471 L391,471 A0,0 0 0 0 391,471 " fill="#FBFB77" filter="url(#fz1sa3l2giiif)" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1029,471 L1029,491 L1049,491 L1029,471 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="470" x="403" y="505.1338">Reader, Writer und Processer werden</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="466" x="403" y="535.3994">immer als Listener registriert, sofern</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="524" x="403" y="565.665">sie ein Listener-Interface implementieren</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="616" x="403" y="595.9307">oder entsprechend Annotierte Methoden haben.</text><!--MD5=[6415c0732c73903ce5879624bf27cc08]
class RetryListener--><rect fill="#DDEEE8" filter="url(#fz1sa3l2giiif)" height="172.8281" id="RetryListener" style="stroke: #225C4D; stroke-width: 3.0;" width="1192" x="12" y="688"/><ellipse cx="520.5" cy="720" fill="#B4A7E5" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M512.3438,711.5313 L512.3438,707.2188 L527.125,707.2188 L527.125,711.5313 L522.1875,711.5313 L522.1875,727.6875 L527.125,727.6875 L527.125,732 L512.3438,732 L512.3438,727.6875 L517.2813,727.6875 L517.2813,711.5313 L512.3438,711.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="158" x="561.5" y="728.3086">RetryListener</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="14" x2="1202" y1="752" y2="752"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="14" x2="1202" y1="768" y2="768"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="984" x="24" y="796.4209">open(context: RetryContext, callback: RetryCallback&lt;T, E extends Throwable&gt;): boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1142" x="24" y="822.0303">close(context: RetryContext, callback: RetryCallback&lt;T, E extends Throwable&gt;, throwable: Throwable)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1168" x="24" y="847.6396">onError(context: RetryContext, callback: RetryCallback&lt;T, E extends Throwable&gt;, throwable: Throwable)</text><!--MD5=[d371f894aea762b778f6fcc848502fad]
class FaultTolerantStepBuilder--><rect fill="#DDEEE8" filter="url(#fz1sa3l2giiif)" height="147.2188" id="FaultTolerantStepBuilder" style="stroke: #225C4D; stroke-width: 3.0;" width="376" x="1274" y="700"/><ellipse cx="1304.9" cy="732" fill="#ADD1B2" rx="22" ry="22" style="stroke: #225C4D; stroke-width: 2.0;"/><path d="M1310.8375,743.2813 Q1309.6813,743.875 1308.4,744.1563 Q1307.1188,744.4688 1305.7125,744.4688 Q1300.7125,744.4688 1298.0563,741.1875 Q1295.4313,737.875 1295.4313,731.625 Q1295.4313,725.375 1298.0563,722.0625 Q1300.7125,718.75 1305.7125,718.75 Q1307.1188,718.75 1308.4,719.0625 Q1309.7125,719.375 1310.8375,719.9688 L1310.8375,725.4063 Q1309.5875,724.25 1308.4,723.7188 Q1307.2125,723.1563 1305.9625,723.1563 Q1303.275,723.1563 1301.9,725.3125 Q1300.525,727.4375 1300.525,731.625 Q1300.525,735.8125 1301.9,737.9688 Q1303.275,740.0938 1305.9625,740.0938 Q1307.2125,740.0938 1308.4,739.5625 Q1309.5875,739 1310.8375,737.8438 L1310.8375,743.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="310" x="1333.1" y="740.3086">FaultTolerantStepBuilder</text><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1276" x2="1648" y1="764" y2="764"/><line style="stroke: #225C4D; stroke-width: 3.0;" x1="1276" x2="1648" y1="780" y2="780"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="352" x="1286" y="808.4209">listener(listener: RetryListener)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="342" x="1286" y="834.0303">listener(listener: SkipListener)</text><!--MD5=[66b86cb857d12b893eb7cbe317458e5f]
reverse link StepBuilderHelper to AbstractTaskletStepBuilder--><path d="M1462,204.96 C1462,215.26 1462,225.5 1462,235.3 " fill="none" id="StepBuilderHelper&lt;-AbstractTaskletStepBuilder" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="none" points="1448,204.52,1462,164.52,1476,204.52,1448,204.52" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[f8f18f8ab7cfcde7e006087d5fcd4cf7]
reverse link ItemStream to AbstractTaskletStepBuilder--><path d="M1047.7,310 C1067.22,310 1086.76,310 1106.3,310 " fill="none" id="ItemStream&lt;-AbstractTaskletStepBuilder" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#225C4D" points="1037.48,310,1055.48,318,1047.48,310,1055.48,302,1037.48,310" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[1bf462a00b4f5e4c7b612c7bac525a3d]
reverse link AbstractTaskletStepBuilder to SimpleStepBuilder--><path d="M1462,424.68 C1462,435.08 1462,445.5 1462,455.58 " fill="none" id="AbstractTaskletStepBuilder&lt;-SimpleStepBuilder" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="none" points="1448,424.14,1462,384.14,1476,424.14,1448,424.14" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[8873b52783b4f99a3b3a3e1ed23e1d53]
reverse link SimpleStepBuilder to FaultTolerantStepBuilder--><path d="M1462,668.58 C1462,679.06 1462,689.44 1462,699.34 " fill="none" id="SimpleStepBuilder&lt;-FaultTolerantStepBuilder" style="stroke: #225C4D; stroke-width: 2.0;"/><polygon fill="none" points="1448,668.26,1462,628.26,1476,668.26,1448,668.26" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[a81a9c8bdc561621349447aae0da59eb]
reverse link RetryListener to FaultTolerantStepBuilder--><path d="M1214.6,774 C1234.32,774 1254.04,774 1273.76,774 " fill="none" id="RetryListener&lt;-FaultTolerantStepBuilder" style="stroke: #225C4D; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#225C4D" points="1204.3,774,1222.3,782,1214.3,774,1222.3,766,1204.3,774" style="stroke: #225C4D; stroke-width: 2.0;"/><!--MD5=[fcba46a199be1ac3c0d215d130db2a6e]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }
scale 2
skinparam ranksep 30

interface ItemStream {
    update(arg0: ExecutionContext)
    close()
    open(arg0: ExecutionContext)
}

class StepBuilderHelper {
    listener(listener: StepExecutionListener): StepBuilderHelper
    listener(listener: Object): StepBuilderHelper
}
note left
Es können beliebige Objekte
mit entsprechenden Listener
Annotationen registriert werden.
end note

class AbstractTaskletStepBuilder {
    stream(stream: ItemStream): AbstractTaskletStepBuilder
    listener(listener: ChunkListener): AbstractTaskletStepBuilder
}

StepBuilderHelper <|- - AbstractTaskletStepBuilder
ItemStream <. AbstractTaskletStepBuilder

class SimpleStepBuilder {
    listener(listener: ItemProcessListener): SimpleStepBuilder
    listener(listener: ItemReadListener): SimpleStepBuilder
    listener(listener: ItemWriteListener): SimpleStepBuilder
}

AbstractTaskletStepBuilder <|- - SimpleStepBuilder
note left
Reader, Writer und Processer werden
immer als Listener registriert, sofern
sie ein Listener-Interface implementieren
oder entsprechend Annotierte Methoden haben.
end note

interface RetryListener {
    open(context: RetryContext, callback: RetryCallback<T, E extends Throwable>): boolean
    close(context: RetryContext, callback: RetryCallback<T, E extends Throwable>, throwable: Throwable)
    onError(context: RetryContext, callback: RetryCallback<T, E extends Throwable>, throwable: Throwable)
}

class FaultTolerantStepBuilder {
    listener(listener: RetryListener)
    listener(listener: SkipListener)
}

SimpleStepBuilder <|- - FaultTolerantStepBuilder
RetryListener <. FaultTolerantStepBuilder
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.6+10-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: DK
--></g></svg>